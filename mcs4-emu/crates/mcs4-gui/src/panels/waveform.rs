use eframe::egui::{self, Color32};\nuse crate::signal_trace::SignalTrace;\n\npub struct WaveformPanel {\n    pub trace: SignalTrace,\n    pub zoom: f32,\n    pub scroll_x: u64,\n}\n\nimpl WaveformPanel {\n    pub fn new(trace: SignalTrace) -> Self { Self { trace, zoom: 1.0, scroll_x: 0 } }\n    pub fn show(&mut self, ui: &mut egui::Ui) {\n        let painter = ui.painter();\n        let y = 10.0;\n        self.draw_digital(painter, &self.trace.phi1, y, Color32::LIGHT_BLUE);\n        self.draw_digital(painter, &self.trace.phi2, y+20.0, Color32::LIGHT_GREEN);\n    }\n    fn draw_digital(&self, painter: &egui::Painter, signal: &[bool], y: f32, color: Color32) {\n        let mut x = 10.0;\n        for &s in signal.iter() {\n            let y0 = if s { y } else { y+10.0 };\n            painter.rect_filled(egui::Rect::from_min_size(egui::pos2(x, y0), egui::vec2(5.0, 10.0)), 0.0, color);\n            x += 6.0;\n        }\n    }\n}
